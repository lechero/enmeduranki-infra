# ============================================================================
# kingkontext.nl Production Environment Configuration
# ============================================================================
# IMPORTANT: Copy this file to .env and fill in all values
# Generate secrets with: cd ${APP_CODE_PATH}/apps/cms && ./generate-secrets.sh
# ============================================================================

# ----------------------------------------------------------------------------
# Application Source Path
# ----------------------------------------------------------------------------
APP_CODE_PATH=/home/enki/curriculum-vitae

# ----------------------------------------------------------------------------
# Docker Registry Configuration
# ----------------------------------------------------------------------------
REGISTRY_DOMAIN=docker.io
REGISTRY_USERNAME=fuentastic
PROJECT_NAME=kingkontext-nl
WEB_IMAGE_TAG=latest
CMS_IMAGE_TAG=latest
CV_GEN_IMAGE_TAG=latest
OFFER_PROCESSOR_IMAGE_TAG=latest

# ----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# ----------------------------------------------------------------------------
POSTGRES_DB=strapi
POSTGRES_USER=strapi
POSTGRES_PASSWORD=CHANGE_ME_GENERATE_STRONG_PASSWORD

# ----------------------------------------------------------------------------
# Strapi CMS Secrets (Generate with generate-secrets.sh)
# ----------------------------------------------------------------------------
# Generate APP_KEYS: node -e "console.log([1,2,3,4].map(() => require('crypto').randomBytes(16).toString('base64')).join(','))"
APP_KEYS=key1,key2,key3,key4

# Generate these: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
API_TOKEN_SALT=CHANGE_ME_GENERATE_RANDOM
ADMIN_JWT_SECRET=CHANGE_ME_GENERATE_RANDOM
TRANSFER_TOKEN_SALT=CHANGE_ME_GENERATE_RANDOM
JWT_SECRET=CHANGE_ME_GENERATE_RANDOM
STRAPI_ADMIN_CLIENT_PREVIEW_SECRET=CHANGE_ME_GENERATE_RANDOM

# ----------------------------------------------------------------------------
# Strapi Public URLs
# ----------------------------------------------------------------------------
STRAPI_URL=https://cms.kingkontext.nl
STRAPI_ADMIN_CLIENT_URL=https://cv.kingkontext.nl
NEXT_PUBLIC_STRAPI_URL=https://cms.kingkontext.nl

# ----------------------------------------------------------------------------
# Next.js App Configuration
# ----------------------------------------------------------------------------
NEXT_PUBLIC_URL=https://cv.kingkontext.nl
STRAPI_API_TOKEN=CHANGE_ME_CREATE_IN_STRAPI_ADMIN

# BetterAuth Secret (Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))")
BETTER_AUTH_SECRET=CHANGE_ME_GENERATE_RANDOM

# Optional: n8n Webhook URL (if using n8n automation)
N8N_OFFER_WEBHOOK_URL=

# ----------------------------------------------------------------------------
# CV Generator Worker Configuration
# ----------------------------------------------------------------------------
CV_GEN_WORKER_ID=kingkontext-worker-01
OFFER_PROCESSOR_WORKER_ID=kingkontext-offer-processor-01
LLM_PROVIDER=openai
OPENAI_API_KEY=CHANGE_ME_YOUR_OPENAI_API_KEY
OPENAI_MODEL=gpt-4-turbo-preview
POLLING_INTERVAL_MS=15000
TOP_N_ASSIGNMENTS=10

# ----------------------------------------------------------------------------
# Optional: AWS S3 Configuration (for file uploads)
# ----------------------------------------------------------------------------
# If not set, files will be stored in local Docker volumes
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_BUCKET=
